<?xml version="1.0" encoding="utf-8"?>

<!-- By: Topsitemakers -->
<!-- http://www.topsitemakers.com -->

<configuration>
  <system.webServer>

    <!-- Don't show directory listings for URLs which map to a directory. -->
    <directoryBrowse enabled="false" />

    <!-- Rewrite rules. -->
    <rewrite>
      <rules>

        <!-- Force www in front of the domain name. -->
        <rule name="Force www in front of domain name">
          <match url="^(.*)$" ignoreCase="false" />
          <conditions logicalGrouping="MatchAll">
            <add input="{HTTP_HOST}" pattern="^www.foodtv.cz$" ignoreCase="false" negate="true" />
          </conditions>
          <action type="Redirect" url="http://www.foodtv.cz/{R:1}" redirectType="Permanent" />
        </rule>
        
        <!-- Rewrite URLs of the form 'x' to the form 'index.php?q=x'. -->
        <rule name="Drupal clean URLs" enabled="true">
          <match url="^(.*)$" ignoreCase="false" />
          <conditions logicalGrouping="MatchAll">
            <!--
            Uncomment the following line if you are hosting another application
            in a subfolder of Drupal website. The rule will ignore all requests
            sent to the '/application' and '/application/*', allowing your app
            to handle requests. This works with WordPress or any custom built
            application.
            -->
            <!-- <add input="{REQUEST_URI}" pattern="^/(app|app/*)" negate="true" /> -->
            <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
            <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
            <add input="{REQUEST_URI}" negate="true" pattern="/favicon.ico$" />
          </conditions>
          <action type="Rewrite" url="index.php?q={R:1}" appendQueryString="true" />
        </rule>

      </rules>
    </rewrite>
    <!-- /Rewrite rules. -->

    <!-- Error handling. -->
    <httpErrors>
      <remove statusCode="404" subStatusCode="-1" />
      <error statusCode="404" prefixLanguageFilePath="" path="/index.php" responseMode="ExecuteURL" />
    </httpErrors>
    <!-- /Error handling. -->

    <!-- Set the default document -->
    <defaultDocument>
      <files>
        <remove value="index.php" />
        <add value="index.php" />
      </files>
    </defaultDocument>
    <!-- /Set the default document -->

    <!-- Set expiry headers for static content; default is 7 days -->
    <staticContent>
      <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="7.00:00:00" />
    </staticContent>
    <!-- /Set expiry headers for static content -->

    <!-- Remove any other unnecessary headers -->
    <httpProtocol>
      <customHeaders>
        <remove name="X-Powered-By-Plesk" />
      </customHeaders>
    </httpProtocol>
    <!-- /Remove any other unnecessary headers -->

  </system.webServer>
</configuration>
